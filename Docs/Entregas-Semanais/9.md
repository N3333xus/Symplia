# Gramática Formal da Linguagem Symplia

A gramática da Symplia é Livre de Contexto (Tipo 2 na Hierarquia de Chomsky) e majoritariamente LL(1), permitindo análise sintática preditiva recursiva descendente.

## 1 - Características da Gramática

- Não ambígua por construção
- Fatorada para evitar backtracking
- Left-factored para análise preditiva
- Sem recursão à esquerda imediata

## 2 - Regras Contextuais e Restrições

**Regras de Escopo**

- Variáveis são visíveis apenas no bloco onde foram declaradas
- Funções têm escopo global
- Shadowing é permitido (variável local pode ocultar variável global)

**Regras de Tipo**

- Atribuição requer compatibilidade de tipos
- Operadores aritméticos exigem operandos numéricos
- Operadores lógicos exigem operandos booleanos
- Chamadas de função verificam número e tipo de argumentos

**Regras de Unicidade**

- Identificadores devem ser únicos no mesmo escopo
- Não é permitida sobrecarga de funções
- Nomes de funções não podem conflitar com palavras-chave

## 3 - Metanotação Utilizada:

- `::=` → Definição de produção
- `|` → Alternativa
- `*` → Zero ou mais repetições
- `+` → Uma ou mais repetições
- `?` → Opcional
- `[ ]` → Agrupamento
- `" "` → Terminal literal

## 4 - Estrutura Geral do Programa

```
programa ::= (declaracao_funcao | declaracao_variavel)*

declaracao_funcao ::= "funcao" tipo? identificador "(" parametros? ")" bloco "fimfuncao"

parametros ::= parametro ("," parametro)*
parametro ::= tipo identificador
```

## 5 - Blocos e Escopo
```
bloco ::= "{" (comando | declaracao_variavel)* "}"

declaracao_variavel ::= tipo identificador ("=" expressao)? ";"
``` 

## 6 - Declarações (Statements)
```
comando ::= expressao_comando
          | declaracao_variavel
          | estrutura_controle
          | comando_retorno
          | comando_escreva
          | comando_leia

expressao_comando ::= expressao ";"

comando_retorno ::= "retorne" expressao? ";"

comando_escreva ::= "escreva" "(" argumentos ")" ";"

comando_leia ::= "leia" "(" expressao ")" ";"
```

## 7 - Estruturas de Controle
```
estrutura_controle ::= condicional | loop

condicional ::= "se" expressao "entao" bloco ("senao" bloco)? "fimse"

loop ::= loop_enquanto | loop_para

loop_enquanto ::= "enquanto" expressao "faca" bloco "fimenquanto"

loop_para ::= "para" identificador "de" expressao "ate" expressao "faca" bloco "fimpara"
```

## 8 - Expressões (Hierarquia de Precedência)
**Expressões Lógicas**
```

expressao ::= expressao_logica

expressao_logica ::= expressao_logica ("&&" | "||") expressao_relacional
                   | expressao_relacional
                   | "!" expressao_logica
```

**Expressões Relacionais**
```

expressao_relacional ::= expressao_aritmetica (operador_relacional expressao_aritmetica)?
                       | expressao_aritmetica

operador_relacional ::= "==" | "!=" | "<" | ">" | "<=" | ">="
```

**Expressões Aritméticas**
```
expressao_aritmetica ::= termo (operador_aditivo termo)*

termo ::= fator (operador_multiplicativo fator)*

fator ::= literal
        | identificador
        | chamada_funcao
        | "(" expressao ")"
        | (operador_unario)? fator

operador_aditivo ::= "+" | "-"
operador_multiplicativo ::= "*" | "/" | "%"
operador_unario ::= "+" | "-" | "!"
```

## 9 - Chamadas de Função e Argumentos
```
chamada_funcao ::= identificador "(" argumentos? ")"

argumentos ::= expressao ("," expressao)*
```

## 10 - Tipos de Dados
```
tipo ::= "inteiro" | "decimal" | "texto" | "logico"

literal ::= inteiro_literal | decimal_literal | string_literal | booleano_literal

inteiro_literal ::= digit+
decimal_literal ::= digit+ "." digit+
string_literal ::= '"' (caractere | sequencia_escape)* '"'
booleano_literal ::= "verdadeiro" | "falso"

sequencia_escape ::= "\\" ("n" | "t" | "r" | '"' | "\\")
```

## 11 - Elementos Léxicos (Tokens)
**Identificadores**
```

identificador ::= (letra | "_") (letra | digito | "_")*
letra ::= [a-zA-Z]
digito ::= [0-9]
```

**Palavras-Chave**

```
palavras_chave ::= "se" | "entao" | "senao" | "fimse"
                 | "enquanto" | "faca" | "fimenquanto"
                 | "para" | "de" | "ate" | "fimpara"
                 | "funcao" | "retorne" | "fimfuncao"
                 | "inteiro" | "decimal" | "texto" | "logico"
                 | "verdadeiro" | "falso"
                 | "escreva" | "leia" | "principal"
```

**Operadores**

```
operadores ::= "+" | "-" | "*" | "/" | "%"    # Aritméticos
             | "=" | "==" | "!=" | "<" | ">" | "<=" | ">="  # Comparação
             | "!" | "&&" | "||"               # Lógicos
```

**Delimitadores**

```
delimitadores ::= "(" | ")" | "{" | "}" | "[" | "]" 
                | "," | ";" | ":" | "."
```

**Comentários**

```
comentario ::= comentario_linha | comentario_bloco

comentario_linha ::= "//" [^\n]*
comentario_bloco ::= "/*" [^*]* "*" ([^/] [^*]* "*")* "/"
```

## 12 - Precedência e Associatividade

**Tabela de Precedência (da mais alta para a mais baixa)**

# Tabela de Precedência de Operadores

| Precedência | Operadores | Associatividade | Categoria |
|-------------|------------|-----------------|-----------|
| 1 | `()` `[]` `.` | Esquerda | Agrupamento |
| 2 | `!` `+` `-` (unários) | Direita | Unário |
| 3 | `*` `/` `%` | Esquerda | Multiplicativo |
| 4 | `+` `-` | Esquerda | Aditivo |
| 5 | `<` `<=` `>` `>=` | Não associativo | Relacional |
| 6 | `==` `!=` | Não associativo | Igualdade |
| 7 | `&&` | Esquerda | E Lógico |
| 8 | `\|\|` | Esquerda | OU Lógico |
| 9 | `=` | Direita | Atribuição |

**Regras de Associatividade**

- **Esquerda:** `a + b + c` = `(a + b) + c`
- **Direita:** `a = b = c` = `a = (b = c)`
- **Não associativo:** `a < b < c` é inválido